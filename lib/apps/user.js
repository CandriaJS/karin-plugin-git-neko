import {e,c}from'../chunk-UBICTORI.js';import {d,b}from'../chunk-SWUTSNE3.js';import _,{logger}from'node-karin';var f=_.command(/^#?(?:(?:清语)?Git插件|git-plugin)?GitHub(?:用户|user)(?:信息|info)\s*(.+)?/i,async a=>{try{let e$1=a.msg.match(f.reg),[,r]=e$1,i=await e.get_user_token(a.userId),o=await c.get_github(i).get_user(),t;if(r?.trim())t=await o.get_user_info({username:r});else {if(!i)throw new Error("\u55B5\u545C~ \u8BF7\u5148\u8FDB\u884C\u5E94\u7528\u5B89\u88C5\u7136\u540E\u8FDB\u884C\u6388\u6743\u5B89\u88C5");t=await o.get_user_info_by_token();}let m=t.data.login,l=await o.get_user_contribution({username:m}),c$1=await d.render("user/get_user_info",{platform:"github",username:t.data.login,name:t.data.name,avatar:t.data.avatar_url,bio:t.data.bio,email:t.data.email??"\u672A\u516C\u5F00\u6216\u672A\u77E5",location:t.data.location??"\u672A\u516C\u5F00\u6216\u672A\u77E5",company:t.data.company??"\u672A\u516C\u5F00\u6216\u672A\u77E5",blog:t.data.blog,created_at:t.data.created_at,updated_at:t.data.updated_at,repos_count:t.data.public_repos,followers_count:t.data.followers,following_count:t.data.following,contribution_data:l.data});return await a.reply(c$1),!0}catch(e){logger.error(e),await a.reply(`[${b.Plugin_AliasName}]: ${e.message}`);}},{name:"\u6E05\u8BEDGit\u63D2\u4EF6:\u7528\u6237\u4FE1\u606F",priority:-1/0,event:"message",permission:"all"});export{f as get_user_info};